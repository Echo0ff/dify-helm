# ===========================================
# 敏感信息配置文件模板
# 使用说明：
# 1. 复制此文件为 values-secrets.yaml
# 2. 填入实际的敏感信息
# 3. values-secrets.yaml 已在 .gitignore 中，不会被提交
# ===========================================

# PostgreSQL 数据库连接信息
postgres:
  host: "your-postgres-host"
  port: 5432
  username: "postgres"
  password: "YOUR_POSTGRES_PASSWORD"
  database:
    api: "dify"
    pluginDaemon: "dify_plugin"

# Redis 连接信息
redis:
  host: "your-redis-host"
  port: 6379
  username: ""
  password: "YOUR_REDIS_PASSWORD"
  useSSL: false

# 阿里云 OSS 配置
oss:
  endpoint: "https://oss-cn-hangzhou.aliyuncs.com"
  accessKey: "YOUR_ACCESS_KEY"
  secretKey: "YOUR_SECRET_KEY"
  region: "cn-hangzhou"
  bucketName:
    api: "your-bucket-name"
    pluginDaemon: "your-bucket-name"
  authVersion: "v4"
  path: ""

# Milvus 向量数据库配置
milvus:
  uri: "http://your-milvus-host:19530"
  database: "default"
  token: ""
  user: "root"
  password: "YOUR_MILVUS_PASSWORD"

# 应用密钥配置 (使用 openssl rand -base64 42 生成)
app:
  secretKey: "YOUR_SECRET_KEY_HERE"
  consoleSecretKey: "YOUR_CONSOLE_SECRET_KEY_HERE"

# Sandbox 配置
sandbox:
  apiKey: "YOUR_SANDBOX_API_KEY"

# Plugin Daemon 配置 (使用 openssl rand -base64 42 生成)
pluginDaemon:
  serverKey: "YOUR_SERVER_KEY"
  difyApiKey: "YOUR_DIFY_API_KEY"

# 邮件配置
mail:
  type: "smtp"  # 或 "resend"
  resend:
    apiKey: "YOUR_RESEND_API_KEY"
    apiUrl: "https://api.resend.com"
  smtp:
    server: "smtp.example.com"
    port: 465
    username: "your-email@example.com"
    password: "YOUR_EMAIL_PASSWORD"
    tls:
      enabled: true
      optimistic: false

# 向量数据库配置 (备选方案，根据需要启用)
vectorDB:
  # Weaviate
  weaviate:
    endpoint: "http://weaviate:8080"
    apiKey: "YOUR_WEAVIATE_API_KEY"
  
  # Qdrant
  qdrant:
    endpoint: "https://your-qdrant-url.qdrant.tech/"
    apiKey: "YOUR_QDRANT_API_KEY"
    timeout: 20
  
  # Pgvector
  pgvector:
    username: "postgres"
    password: "YOUR_PGVECTOR_PASSWORD"
    address: "pgvector-host"
    port: 5432
    dbName: "dify"

# PostgreSQL 内置实例密码 (如果启用内置PostgreSQL)
builtinPostgres:
  postgresPassword: "YOUR_POSTGRES_PASSWORD"
  replicationPassword: "YOUR_REPLICATION_PASSWORD"

# Redis 内置实例密码 (如果启用内置Redis)
builtinRedis:
  password: "YOUR_REDIS_PASSWORD"
